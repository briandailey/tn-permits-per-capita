<html>
  <head>
      <title>Carry Permits and Crimes against Persons in Tennessee (2011/2012)</title>
    <script type='text/javascript' src='https://www.google.com/jsapi'></script>
    <script type='text/javascript'>
     google.load('visualization', '1', {'packages': ['geochart', 'corechart']});
     google.setOnLoadCallback(init);

    function init() {
        drawRegionsMap();
        drawCorrelation();
    };

      function drawRegionsMap() {
        var data = google.visualization.arrayToDataTable([
                    ["County", "Handgun Permits Per Capita"],
                    ["Anderson County",0.0783166961],
                    ["Bedford County",0.0539673471],
                    ["Benton County",0.0721241631],
                    ["Bledsoe County",0.0673921492],
                    ["Blount County",0.074034915],
                    ["Bradley County",0.0607565839],
                    ["Campbell County",0.0686956951],
                    ["Cannon County",0.0795727055],
                    ["Carroll County",0.0620585445],
                    ["Carter County",0.0602605578],
                    ["Cheatham County",0.0745176314],
                    ["Chester County",0.0745580771],
                    ["Claiborne County",0.0711488251],
                    ["Clay County",0.0472877207],
                    ["Cocke County",0.0643709205],
                    ["Coffee County",0.0636034405],
                    ["Crockett County",0.0687143544],
                    ["Cumberland County",0.0762289871],
                    ["Davidson County",0.0372194028],
                    ["De Kalb County",0.0874085075],
                    ["Decatur County",0.0786343801],
                    ["Dickson County",0.0665122502],
                    ["Dyer County",0.0486227482],
                    ["Fayette County",0.1019655701],
                    ["Fentress County",0.0706992231],
                    ["Franklin County",0.0599750715],
                    ["Gibson County",0.0648643236],
                    ["Giles County",0.0597202845],
                    ["Grainger County",0.0815690064],
                    ["Greene County",0.0674223741],
                    ["Grundy County",0.0648947951],
                    ["Hamblen County",0.0661254004],
                    ["Hamilton County",0.0492144754],
                    ["Hancock County",0.0587798723],
                    ["Hardeman County",0.048855929],
                    ["Hardin County",0.0777614594],
                    ["Hawkins County",0.0758589049],
                    ["Haywood County",0.0545208446],
                    ["Henderson County",0.0674261966],
                    ["Henry County",0.0648800692],
                    ["Hickman County",0.0590018848],
                    ["Houston County",0.0634825393],
                    ["Humphreys County",0.0729290742],
                    ["Jackson County",0.0646381145],
                    ["Jefferson County",0.0685363682],
                    ["Johnson County",0.0510120125],
                    ["Knox County",0.0568490533],
                    ["Lake County",0.0388224708],
                    ["Lauderdale County",0.052796598],
                    ["Lawrence County",0.0576991571],
                    ["Lewis County",0.0619337836],
                    ["Lincoln County",0.057760761],
                    ["Loudon County",0.0794524443],
                    ["Macon County",0.0518567934],
                    ["Madison County",0.0647193527],
                    ["Marion County",0.0508096234],
                    ["Marshall County",0.0541757067],
                    ["Maury County",0.0665202616],
                    ["McMinn County",0.0761026891],
                    ["McNairy County",0.0624664674],
                    ["Meigs County",0.0774473886],
                    ["Monroe County",0.0702063188],
                    ["Montgomery County",0.0498474117],
                    ["Moore County",0.0892216503],
                    ["Morgan County",0.0687334005],
                    ["Obion County",0.0614029569],
                    ["Overton County",0.0566556904],
                    ["Perry County",0.0871106609],
                    ["Pickett County",0.0693088637],
                    ["Polk County",0.0653793432],
                    ["Putnam County",0.0651607774],
                    ["Rhea County",0.0611926806],
                    ["Roane County",0.0904751291],
                    ["Robertson County",0.0727654755],
                    ["Rutherford County",0.0530936595],
                    ["Scott County",0.0611462094],
                    ["Sequatchie County",0.0759096612],
                    ["Sevier County",0.0660354667],
                    ["Shelby County",0.0507342624],
                    ["Smith County",0.0589033943],
                    ["Stewart County",0.0704535113],
                    ["Sullivan County",0.0643378499],
                    ["Sumner County",0.0627115331],
                    ["Tipton County",0.0801396571],
                    ["Trousdale County",0.0568065507],
                    ["Unicoi County",0.0748358862],
                    ["Union County",0.0722916667],
                    ["Van Buren County",0.0698522707],
                    ["Warren County",0.0612868485],
                    ["Washington County",0.0620009167],
                    ["Wayne County",0.0518553478],
                    ["Weakley County",0.0484562607],
                    ["White County",0.0746108838],
                    ["Williamson County",0.0552609249],
                    ["Wilson County",0.0791051047]
              ]);

        var options = {
                region: 'US-TN',
                resolution: 'provinces',
                displayMode: 'markers',
                colorAxis: {colors: ['green', 'red']}
            };

        var chart = new google.visualization.GeoChart(document.getElementById('chart_div'));
        chart.draw(data, options);
    };

    function drawCorrelation() {
        var data = new google.visualization.DataTable();
        data.addColumn('number', 'Permits');
        data.addColumn('number', 'Crime');
        data.addColumn({type:'string', role:'tooltip'});
        data.addRows([
[50.7342624,48.12,"Shelby County"],
[54.5208446,41.2,"Haywood County"],
[37.2194028,39.85,"Davidson County"],
[64.7193527,37.38,"Madison County"],
[66.5202616,35.82,"Maury County"],
[48.6227482,34.38,"Dyer County"],
[57.6991571,33.29,"Lawrence County"],
[80.1396571,32.81,"Tipton County"],
[64.3378499,28.57,"Sullivan County"],
[64.3709205,28.56,"Cocke County"],
[67.4261966,27.8,"Henderson County"],
[64.8643236,27.12,"Gibson County"],
[64.8947951,26.73,"Grundy County"],
[66.5122502,25.7,"Dickson County"],
[49.8474117,25.2,"Montgomery County"],
[52.796598,24.87,"Lauderdale County"],
[60.7565839,24.76,"Bradley County"],
[63.6034405,23.65,"Coffee County"],
[63.4825393,23.4,"Houston County"],
[65.1607774,23.12,"Putnam County"],
[61.9337836,22.73,"Lewis County"],
[56.8065507,22.65,"Trousdale County"],
[53.9673471,22.35,"Bedford County"],
[53.0936595,21.13,"Rutherford County"],
[76.1026891,20.76,"McMinn County"],
[57.760761,20.61,"Lincoln County"],
[74.6108838,20.27,"White County"],
[74.5176314,20.19,"Cheatham County"],
[77.4473886,20.19,"Meigs County"],
[75.9096612,20.14,"Sequatchie County"],
[62.0009167,20,"Washington County"],
[49.2144754,19.94,"Hamilton County"],
[66.0354667,19.85,"Sevier County"],
[61.1462094,19.72,"Scott County"],
[68.6956951,19.35,"Campbell County"],
[70.2063188,19.25,"Monroe County"],
[77.7614594,19.17,"Hardin County"],
[74.5580771,18.55,"Chester County"],
[61.4029569,18.4,"Obion County"],
[66.1254004,18.38,"Hamblen County"],
[59.9750715,18.23,"Franklin County"],
[61.2868485,18.03,"Warren County"],
[48.855929,17.85,"Hardeman County"],
[54.1757067,17.84,"Marshall County"],
[56.8490533,17.21,"Knox County"],
[78.6343801,17.11,"Decatur County"],
[68.7143544,16.77,"Crockett County"],
[48.4562607,16.3,"Weakley County"],
[50.8096234,16.23,"Marion County"],
[58.7798723,16.03,"Hancock County"],
[62.7115331,16,"Sumner County"],
[79.1051047,15.88,"Wilson County"],
[62.4664674,15.87,"McNairy County"],
[67.4223741,15.69,"Greene County"],
[58.9033943,15.25,"Smith County"],
[59.7202845,15.14,"Giles County"],
[74.034915,15.12,"Blount County"],
[51.0120125,15.08,"Johnson County"],
[72.7654755,14.92,"Robertson County"],
[76.2289871,14.8,"Cumberland County"],
[51.8567934,14.77,"Macon County"],
[87.1106609,14.56,"Perry County"],
[61.1926806,14.31,"Rhea County"],
[75.8589049,14.1,"Hawkins County"],
[78.3166961,14.02,"Anderson County"],
[72.2916667,14.01,"Union County"],
[79.4524443,13.73,"Loudon County"],
[60.2605578,12.98,"Carter County"],
[64.8800692,12.92,"Henry County"],
[101.9655701,12.52,"Fayette County"],
[62.0585445,12.19,"Carroll County"],
[87.4085075,11.88,"De Kalb County"],
[74.8358862,11.65,"Unicoi County"],
[65.3793432,11.38,"Polk County"],
[70.4535113,11.3,"Stewart County"],
[38.8224708,11.06,"Lake County"],
[70.6992231,10.99,"Fentress County"],
[68.5363682,10.94,"Jefferson County"],
[64.6381145,10.82,"Jackson County"],
[59.0018848,10.65,"Hickman County"],
[90.4751291,10.51,"Roane County"],
[89.2216503,10.45,"Moore County"],
[68.7334005,10.26,"Morgan County"],
[69.8522707,10.21,"Van Buren County"],
[71.1488251,10.16,"Claiborne County"],
[72.1241631,9.92,"Benton County"],
[56.6556904,9.74,"Overton County"],
[72.9290742,8.61,"Humphreys County"],
[47.2877207,8.38,"Clay County"],
[79.5727055,7.56,"Cannon County"],
[55.2609249,6.35,"Williamson County"],
[67.3921492,5.67,"Bledsoe County"],
[51.8553478,5.31,"Wayne County"],
[81.5690064,4.17,"Grainger County"],
[69.3088637,1.95,"Pickett County"]
        ]);


        var options = {
          title: 'Permits / Crime',
          hAxis: {title: 'Permits', minValue: 0, maxValue: 120},
          vAxis: {title: 'Crime', minValue: 0, maxValue: 50},
          legend: 'none'
        };

        var chart = new google.visualization.ScatterChart(document.getElementById('chart_div2'));
        chart.draw(data, options);
    };
    </script>
  </head>
  <body>
    <h1>Density of Handgun Conceal Carry Permits (per Capita)</h1>
    <div id="chart_div" style="width: 900px; height: 500px;"></div>
    <h1>Correlation Between Permits &amp; Crimes Against Persons (None)</h1>
    <div id="chart_div2" style="width: 900px; height: 500px;"></div>
    <pre>
        <a href="http://github.com/briandailey/tn-permits-per-capita/">Sources &amp; Source Code</a>
    </pre>
  </body>
</html>
